<html>
	<head>
		<title>Xena Build Guide</title>
		<link rel="stylesheet" type="text/css" href="index.css" />
	</head>
	
	<body>
		<div id=content>
		<img style="width: 728px; height: 90px;" alt="Australian Govt and NAA logo" src="./htmlhead.png"><br>
		<h3>Xena Build Guide</h3>
	
		<!-- Introduction -->
		<p>
			This document contains instructions to build and run the Xena (XML 
			Electronic Normalising of Archives) framework and applications. This
			process will produce a JAR file, xena.jar, which will contain two
			applications:
			
			<ul>
				 <li><b>Xena Lite</b> is a simple application which uses the Xena
				 framework to normalise files</li>
				 <li><b>Xena Viewer</b> is a very simple application which is used
				 to view .xena files produced by the Xena normalisation process.</li>
			</ul>
			
			This process will also produce a number of plugin jar files, each of which
			handles all functions associated with a particular category of input document.
			
		</p>
		
		<!-- Build Steps -->
		<p>
			<ol>
				<li>
					<b>Install JDK</b>
					<p>
						Download and install a Java Developer Kit. It is best
						to use the latest JDK available from the 
						<a href="http://java.sun.com/j2se/">
						J2SE Page</a>, but any version of 1.5.0 or later is
						acceptable. Mac users should download Java from the
						<a href="http://apple.com">Apple website</a> (the OS 10.4 &#145;Tiger&#146; J2SE
						download page is 
						<a href="http://developer.apple.com/java/download/">
						here</a>).
					</p>
					<p>
						Run the JDK install file, and follow the standard installation
						instructions to install the JDK. More detailed instructions for the 1.5
						version are available on the <a href="http://java.sun.com/j2se/1.5.0/jre/install.html">
						J2SE Download Page</a>.
					</p>
				</li>
				
				<li>
					<b>Install Ant</b>
					<p>
						Download and install an Ant distribution. The latest version
						can be found on the <a href="http://ant.apache.org/bindownload.cgi">
						Apache Ant website</a>.
					</p>
					<p>
						Extract all files in the downloaded file to an appropriate
						directory.
					</p>
					<p>
						Add the bin directory of the Ant installation to your system path.
						Set the following environment variables:
						<ul>
							<li>Set ANT_HOME to the root directory of your Ant installation.</li>
							<li>Set JAVA_HOME to the root directory of your JRE installation.</li>
							<li>Add the Ant bin directory to your system path.</li>
						</ul>
					</p>
					<p>
						More detailed installation instructions are available in the
						<a href="http://ant.apache.org/manual/index.html">Apache Ant
						User Manual</a> (also included with the Ant distribution).
					</p>
				</li>
				
				<li>
					<b>Download Xena Source</b>
					<p>
						The Xena source can be downloaded using two methods:
						<ul>
							<li>Downloaded in archive format from the 
								<a href="http://xena.sourceforge.net/">
								Xena SourceForge project page</a>. Extract all
								files in the archive to a suitable root directory.
							</li>
							<li>Checked out from the <a href="http://sourceforge.net/cvs/?group_id=85722">
								Xena SourceForge CVS repository</a>. Detailed CVS instructions
								are contained on this page. It is recommended that the source for
								all modules be retrieved, with each module checked out under the
								same root directory. The list of modules can be found on the 
								<a href="http://xena.cvs.sourceforge.net/xena/">
								SourceForge CVS Browse page</a>.						
							</li>
						</ul>
					</p>
					<p>
						To avoid confusion, the root directory should be called &#145;xena_root&#146; or
						similar. This root directory will contain the xena module
						directory which is called &#145;xena&#146;. The xena module contains the Xena
						framework which is used by all of the plugin modules.
					</p>
				</li>
				
				<li>
					<b>Build xena.jar File</b>
					<p>
						Navigate to the Xena root directory created in the previous step
						using a Command Line Interface window,
						and go to the xena module directory. This directory should contain
						(among others) a directory named &#145;src&#146; and a build.xml file.
					</p>
					<p>
						Type &#145;ant&#146; in the console and press Enter. This will use Ant
						to run the default build command contained within the build.xml
						file, which is to compile the source code and build the xena.jar
						file. When the process has finished there should be a &#145;BUILD
						SUCCESSFUL&#146; message in the command window and the dist directory
						should contain the xena.jar file.
					</p>
					
				</li>
				
				<li>
					<b> Build Xena Plugins</b>
					<p>
						There are a number of ways to build the plugin jar files
						and copy them to the xena distribution plugin directory:
						<ul>
							<li>
								<p>
									If all Xena modules have been downloaded and are located
									in the same root directory, then a single Ant command can be
									used to build and copy all Xena plugins.
									Navigate to the xena module directory (the same directory
									specified in the &#145;Build xena.jar File&#146; step above).
									Run the command &#145;ant -f build_plugins&#146;.
								</p>
								<p>
									If the Xena modules have been downloaded to disparate
									locations, the ant.properties file in the xena module
									directory can be edited to point to the location of
									each plugin (relative to the xena module directory).
									If some plugins have not been downloaded or are not
									to be built, then the entries for these plugins can be 
									removed from the build_plugins.xml file.
								</p>
							</li>
							<li>
								<p>
									Each plugin can be built separately by navigating to the
									module directory (which should contain a src directory and
									build.xml file, like the xena module) and running the command
									&#145;ant&#146;. The plugin jar file will be created in the module&#146;s
									dist directory, and this can then be copied to the xena 
									module dist directory.
								</p>
								<p>
									If the plugin module is in the same root directory
									as the xena module, the command &#145;ant send_to_xena&#146;
									can be used to automatically build and copy the plugin
									jar file to the xena module dist directory. If not, then
									the plugin module&#146;s build.xml file may be modified so that
									the xenaplugindir property points to the correct location,
									and the &#145;ant send_to_xena&#146; command can then be used.
								</p>
							</li>
						</ul>
					</p>
				</li>
				
				<li>
					<b>Running the Xena Applications</b>
					<p>
						The Xena applications can now be run using the batch files
						or shell script files in the xena module dist directory. These
						are simple script files containing only one command each, so these
						commands can also be run manually:
						<p>
							<ul>
								<li><b>Xena Lite</b>
									<pre>java -cp xena.jar au.gov.naa.digipres.xena.litegui.LiteMainFrame</pre>
								</li>
								<li><b>Xena Viewer</b>
									<pre>java -cp xena.jar au.gov.naa.digipres.xena.viewer.ViewerMainFrame</pre>
								</li>
							</ul>
						</p>
					</p>
				</li>
				
			</ol>
		</p>
	</div>	
	</body>

</html>